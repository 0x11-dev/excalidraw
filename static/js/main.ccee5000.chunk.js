(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{13:function(e,t,n){e.exports=n(20)},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var o=n(9),a=n(1),r=n(2),l=n(5),i=n(4),c=n(6),s=n(0),u=n.n(s),h=n(10),d=n.n(h),f=n(7);function v(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function p(e,t){t.sort((function(e,t){return e-t}));var n=!0;t.forEach((function(t,o){(n=n&&t===o)||v(e,t-1,t)}))}function m(e,t){var n=t.sort((function(e,t){return t-e})),o=!0;n.forEach((function(t,n){(o=o&&t===e.length-n-1)||v(e,t+1,t)}))}function y(e,t){t.sort((function(e,t){return e-t}));var n=t.map((function(t){return e[t]})),o=t.reverse().concat([0]);o.forEach((function(t,n){if(0!==n)for(var a=o[n-1]-1;a>=t;--a)e[a+n]=e[a]})),n.forEach((function(t,n){e[n]=t}))}function g(e,t){var n=t.sort((function(e,t){return t-e})),o=n.map((function(t){return e[t]}));(t=n.reverse().concat([e.length])).forEach((function(n,o){if(0!==o)for(var a=t[o-1]+1;a<n;++a)e[a-o]=e[a]})),o.forEach((function(t,n){e[e.length-n-1]=t}))}var w=n(8);function E(){return Math.floor(Math.random()*Math.pow(2,31))}function x(e,t){var n=Math.random;Math.random=function(e){return function(){return(Math.pow(2,31)-1&(e=Math.imul(48271,e)))/Math.pow(2,31)}}(e);var o=t();return Math.random=n,o}var k=n(11),C=n.n(k);function b(e,t,n,o,a,r,l,i,c){var s=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,h={id:C()(),type:e,x:t,y:n,width:s,height:u,strokeColor:o,backgroundColor:a,fillStyle:r,strokeWidth:l,roughness:i,opacity:c,isSelected:!1,seed:E()};return h}function S(e){var t=Object(w.a)({},e);return t.id=C()(),t.seed=E(),t}var M=n(3);function O(e,t,n,o,a,r){var l,i,c=a-n,s=r-o,u=c*c+s*s,h=-1;0!==u&&(h=((e-n)*c+(t-o)*s)/u),h<0?(l=n,i=o):h>1?(l=a,i=r):(l=n+h*c,i=o+h*s);var d=e-l,f=t-i;return Math.hypot(d,f)}function B(e,t,n,o,a){return[(e-n)*Math.cos(a)-(t-o)*Math.sin(a)+n,(e-n)*Math.sin(a)+(t-o)*Math.cos(a)+o]}function T(e){return[e.width>=0?e.x:e.x+e.width,e.height>=0?e.y:e.y+e.height,e.width>=0?e.x+e.width:e.x,e.height>=0?e.y+e.height:e.y]}function j(e){var t=Math.floor(e.width/2)+1,n=e.width,o=Math.floor(e.height/2)+1;return[t,0,n,o,t,e.height,0,o]}function D(e){var t=e.width,n=e.height,o=Math.hypot(t-0,n-0),a=Math.min(30,o/2),r=t-(t-0)/o*a,l=n-(n-0)/o*a,i=B(r,l,t,n,-20*Math.PI/180),c=Object(M.a)(i,2),s=c[0],u=c[1],h=B(r,l,t,n,20*Math.PI/180),d=Object(M.a)(h,2);return[0,0,t,n,s,u,d[0],d[1]]}function L(e,t){var n=t.scrollX,o=t.scrollY,a=e.x,r=e.x+e.width,l=e.y,i=e.y+e.height,c={},s=e.width<0?8:-8,u=e.height<0?8:-8;return Math.abs(r-a)>40&&(c.n=[a+(r-a)/2+n-4,l-4+o+u,8,8],c.s=[a+(r-a)/2+n-4,i-4+o-u,8,8]),Math.abs(i-l)>40&&(c.w=[a-4+n+s,l+(i-l)/2+o-4,8,8],c.e=[r-4+n-s,l+(i-l)/2+o-4,8,8]),c.nw=[a-4+n+s,l-4+o+u,8,8],c.ne=[r-4+n-s,l-4+o+u,8,8],c.sw=[a-4+n+s,i-4+o-u,8,8],c.se=[r-4+n-s,i-4+o-u,8,8],"arrow"===e.type?{nw:c.nw,se:c.se}:c}function N(e,t,n){if("ellipse"===e.type){var o=Math.abs(t-e.x-e.width/2),a=Math.abs(n-e.y-e.height/2),r=.707,l=.707,i=Math.abs(e.width)/2,c=Math.abs(e.height)/2;return[0,1,2,3].forEach((function(e){var t=i*r,n=c*l,s=(i*i-c*c)*Math.pow(r,3)/i,u=(c*c-i*i)*Math.pow(l,3)/c,h=t-s,d=n-u,f=o-s,v=a-u,p=Math.hypot(d,h),m=Math.hypot(v,f);r=Math.min(1,Math.max(0,(f*p/m+s)/i)),l=Math.min(1,Math.max(0,(v*p/m+u)/c));var y=Math.hypot(l,r);r/=y,l/=y})),Math.hypot(i*r-o,c*l-a)<10}if("rectangle"===e.type){var s=T(e),u=Object(M.a)(s,4),h=u[0],d=u[1],f=u[2],v=u[3];return O(t,n,h,d,f,d)<10||O(t,n,f,d,f,v)<10||O(t,n,f,v,h,v)<10||O(t,n,h,v,h,d)<10}if("diamond"===e.type){t-=e.x,n-=e.y;var p=j(e),m=Object(M.a)(p,8),y=m[0],g=m[1],w=m[2],E=m[3],x=m[4],k=m[5],C=m[6],b=m[7];return O(t,n,y,g,w,E)<10||O(t,n,w,E,x,k)<10||O(t,n,x,k,C,b)<10||O(t,n,C,b,y,g)<10}if("arrow"===e.type){var S=D(e),B=Object(M.a)(S,8),L=B[0],N=B[1],A=B[2],R=B[3],Y=B[4],X=B[5],F=B[6],P=B[7];return O(t-=e.x,n-=e.y,Y,X,A,R)<10||O(t,n,L,N,A,R)<10||O(t,n,F,P,A,R)<10}if("text"===e.type){var K=T(e),U=Object(M.a)(K,4),H=U[0],W=U[1],z=U[2],I=U[3];return t>=H&&t<=z&&n>=W&&n<=I}if("selection"===e.type)return console.warn("This should not happen, we need to investigate why it does."),!1;throw new Error("Unimplemented type "+e.type)}function A(e,t,n,o){var a=o.scrollX,r=o.scrollY;if(!e.isSelected||"text"===e.type)return!1;var l=L(e,{scrollX:a,scrollY:r}),i=Object.keys(l).filter((function(e){var o=l[e];return t+a>=o[0]&&t+a<=o[0]+o[2]&&n+r>=o[1]&&n+r<=o[1]+o[3]}));return i.length>0&&i[0]}function R(e,t,n){var o=t.x,a=t.y,r=n.scrollX,l=n.scrollY;return e.reduce((function(e,t){if(e)return e;var n=A(t,o,a,{scrollX:r,scrollY:l});return n?{element:t,resizeHandle:n}:null}),null)}function Y(e){return"text"===e.type}var X="ArrowLeft",F="ArrowRight",P="ArrowDown",K="ArrowUp",U="Enter",H="Escape",W="Delete",z="Backspace",I=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"metaKey":"ctrlKey";function J(e){return e===X||e===F||e===P||e===K}function V(e){var t=e.initText,n=e.x,o=e.y,a=e.strokeColor,r=e.font,l=e.onSubmit,i=document.createElement("div");function c(e){e.stopPropagation()}function s(){i.innerText&&l(i.innerText),u()}function u(){i.onblur=null,i.onkeydown=null,window.removeEventListener("wheel",c,!0),document.body.removeChild(i)}i.contentEditable="plaintext-only",i.tabIndex=0,i.innerText=t,i.dataset.type="wysiwyg",Object.assign(i.style,{color:a,position:"absolute",top:o+"px",left:n+"px",transform:"translate(-50%, -50%)",textAlign:"center",display:"inline-block",font:r,padding:"4px",outline:"transparent",whiteSpace:"nowrap"}),i.onkeydown=function(e){if(e.key===H)return e.preventDefault(),t?(i.innerText=t,void s()):void u();e.key===U&&(e.preventDefault(),s())},i.onblur=s,window.addEventListener("wheel",c,!0),document.body.appendChild(i),i.focus();var h=window.getSelection();if(h){var d=document.createRange();d.selectNodeContents(i),h.removeAllRanges(),h.addRange(d)}}function q(e,t,n,o,a){var r=1/0,l=0,i=1/0,c=0;e.forEach((function(e){var t=T(e),n=Object(M.a)(t,4),o=n[0],a=n[1],s=n[2],u=n[3];r=Math.min(r,o),i=Math.min(i,a),l=Math.max(l,s),c=Math.max(c,u)})),r+=o,l+=o,i+=a,c+=a;var s=Math.max(-r,0),u=Math.max(-(t-l),0),h=Math.max(-i,0),d=Math.max(-(n-c),0),f=null;(s||u)&&(f={x:Math.min(s+4,t-15-4),y:n-6-4,width:Math.max(t-u-s-8,15),height:6});var v=null;return(h||d)&&(v={x:t-6-4,y:Math.min(h+4,n-15-4),width:6,height:Math.max(n-d-h-12,15)}),{horizontal:f,vertical:v}}function _(e){e.forEach((function(e){e.isSelected=!1}))}function G(e){for(var t=e.length-1;t>=0;--t)e[t].isSelected&&e.splice(t,1)}function Z(e){var t=[];return e.forEach((function(e,n){e.isSelected&&t.push(n)})),t}var Q=function(e){return e.some((function(e){return e.isSelected}))};function $(e,t){var n=Array.from(new Set(e.filter((function(e){return e.isSelected})).map((function(e){return t(e)}))));return 1===n.length?n[0]:null}function ee(e,t,n,o,a,r){e.beginPath(),e.moveTo(t+r,n),e.lineTo(t+o-r,n),e.quadraticCurveTo(t+o,n,t+o,n+r),e.lineTo(t+o,n+a-r),e.quadraticCurveTo(t+o,n+a,t+o-r,n+a),e.lineTo(t+r,n+a),e.quadraticCurveTo(t,n+a,t,n+a-r),e.lineTo(t,n+r),e.quadraticCurveTo(t,n,t+r,n),e.closePath(),e.fill(),e.stroke()}var te=f.a.generator(null,null);function ne(e,t,n,o){var a=o.scrollX,r=o.scrollY;if("selection"===e.type){var l=n.fillStyle;n.fillStyle="rgba(0, 0, 255, 0.10)",n.fillRect(e.x+a,e.y+r,e.width,e.height),n.fillStyle=l}else if("rectangle"===e.type){var i=x(e.seed,(function(){return te.rectangle(0,0,e.width,e.height,{stroke:e.strokeColor,fill:e.backgroundColor,fillStyle:e.fillStyle,strokeWidth:e.strokeWidth,roughness:e.roughness})}));n.globalAlpha=e.opacity/100,n.translate(e.x+a,e.y+r),t.draw(i),n.translate(-e.x-a,-e.y-r),n.globalAlpha=1}else if("diamond"===e.type){var c=x(e.seed,(function(){var t=j(e),n=Object(M.a)(t,8),o=n[0],a=n[1],r=n[2],l=n[3],i=n[4],c=n[5],s=n[6],u=n[7];return te.polygon([[o,a],[r,l],[i,c],[s,u]],{stroke:e.strokeColor,fill:e.backgroundColor,fillStyle:e.fillStyle,strokeWidth:e.strokeWidth,roughness:e.roughness})}));n.globalAlpha=e.opacity/100,n.translate(e.x+a,e.y+r),t.draw(c),n.translate(-e.x-a,-e.y-r),n.globalAlpha=1}else if("ellipse"===e.type){var s=x(e.seed,(function(){return te.ellipse(e.width/2,e.height/2,e.width,e.height,{stroke:e.strokeColor,fill:e.backgroundColor,fillStyle:e.fillStyle,strokeWidth:e.strokeWidth,roughness:e.roughness})}));n.globalAlpha=e.opacity/100,n.translate(e.x+a,e.y+r),t.draw(s),n.translate(-e.x-a,-e.y-r),n.globalAlpha=1}else{if("arrow"===e.type){var u=D(e),h=Object(M.a)(u,8),d=h[0],f=h[1],v=h[2],p=h[3],m=h[4],y=h[5],g=h[6],w=h[7],E={stroke:e.strokeColor,strokeWidth:e.strokeWidth,roughness:e.roughness},k=x(e.seed,(function(){return[te.line(m,y,v,p,E),te.line(d,f,v,p,E),te.line(g,w,v,p,E)]}));return n.globalAlpha=e.opacity/100,n.translate(e.x+a,e.y+r),k.forEach((function(e){return t.draw(e)})),n.translate(-e.x-a,-e.y-r),void(n.globalAlpha=1)}if(!Y(e))throw new Error("Unimplemented type "+e.type);n.globalAlpha=e.opacity/100;var C=n.font;n.font=e.font;var b=n.fillStyle;n.fillStyle=e.strokeColor,n.fillText(e.text,e.x+a,e.y+r+(e.baseline||e.actualBoundingBoxAscent||0)),n.fillStyle=b,n.font=C,n.globalAlpha=1}}function oe(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=a.offsetX,l=a.offsetY,i=a.renderScrollbars,c=void 0===i||i,s=a.renderSelection,u=void 0===s||s;if(n){var h=n.getContext("2d"),d=h.fillStyle;if("string"===typeof o.viewBackgroundColor?(h.fillStyle=o.viewBackgroundColor,h.fillRect(0,0,n.width,n.height)):h.clearRect(0,0,n.width,n.height),h.fillStyle=d,o=Object(w.a)({},o,{scrollX:"number"===typeof r?r:o.scrollX,scrollY:"number"===typeof l?l:o.scrollY}),e.forEach((function(e){ne(e,t,h,o)})),u){var f=e.filter((function(e){return e.isSelected}));if(f.forEach((function(e){var t=T(e),n=Object(M.a)(t,4),a=n[0],r=n[1],l=n[2],i=n[3],c=h.getLineDash();h.setLineDash([8,4]),h.strokeRect(a-4+o.scrollX,r-4+o.scrollY,l-a+8,i-r+8),h.setLineDash(c)})),1===f.length&&"text"!==f[0].type){var v=L(f[0],o);Object.values(v).forEach((function(e){h.strokeRect(e[0],e[1],e[2],e[3])}))}}if(c){var p=q(e,h.canvas.width/window.devicePixelRatio,h.canvas.height/window.devicePixelRatio,o.scrollX,o.scrollY),m=h.strokeStyle;h.fillStyle="rgba(0,0,0,0.3)",h.strokeStyle="rgba(255,255,255,0.8)",[p.horizontal,p.vertical].forEach((function(e){e&&ee(h,e.x,e.y,e.width,e.height,3)})),h.strokeStyle=m,h.fillStyle=d}}}function ae(e,t){var n=document.createElement("a");n.setAttribute("download",e),n.setAttribute("href",t),n.click(),n.remove()}function re(e,t,n){try{return t&&(e.splice.apply(e,[0,e.length].concat(Object(o.a)("string"===typeof t?JSON.parse(t):t))),e.forEach((function(e){e.id=e.id||C()(),e.fillStyle=e.fillStyle||"hachure",e.strokeWidth=e.strokeWidth||1,e.roughness=e.roughness||1,e.opacity=null===e.opacity||void 0===e.opacity?100:e.opacity}))),n?JSON.parse(n):null}catch(a){return e.splice(0,e.length),null}}function le(e,t,n){for(var o=null,a=e.length-1;a>=0;--a)if(N(e[a],t,n)){o=e[a];break}return o}function ie(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ce(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement}function se(e,t){var n=document.createElement("div"),o=document.body;n.style.position="absolute",n.style.whiteSpace="nowrap",n.style.font=t,o.appendChild(n),n.innerHTML=e;var a=n.offsetWidth,r=n.offsetHeight,l=document.createElement("span");l.style.display="inline-block",l.style.overflow="hidden",l.style.width="1px",l.style.height="1px",n.appendChild(l);var i=l.offsetTop+l.offsetHeight;return document.body.removeChild(n),{width:a,height:r,baseline:i}}function ue(e){var t=e.options,n=e.value,o=e.onChange;return u.a.createElement("div",{className:"buttonList"},t.map((function(e){return u.a.createElement("button",{key:e.text,onClick:function(){return o(e.value)},className:n===e.value?"active":""},e.text)})))}var he=[{icon:u.a.createElement("svg",{viewBox:"0 0 320 512"},u.a.createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),value:"selection"},{icon:u.a.createElement("svg",{viewBox:"0 0 448 512"},u.a.createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle"},{icon:u.a.createElement("svg",{viewBox:"0 0 223.646 223.646"},u.a.createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond"},{icon:u.a.createElement("svg",{viewBox:"0 0 512 512"},u.a.createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse"},{icon:u.a.createElement("svg",{viewBox:"0 0 448 512"},u.a.createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow"},{icon:u.a.createElement("svg",{viewBox:"0 0 448 512"},u.a.createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text"}],de=he.map((function(e){return e.value[0]}));function fe(e){return he.reduce((function(t,n){return n.value[0]!==e?t:n.value}),"selection")}var ve=function(){function e(){Object(a.a)(this,e),this.recording=!0,this.stateHistory=[],this.redoStack=[]}return Object(r.a)(e,[{key:"generateCurrentEntry",value:function(e){return JSON.stringify(e.map((function(e){return Object(w.a)({},e,{isSelected:!1})})))}},{key:"pushEntry",value:function(e){this.stateHistory.length>0&&this.stateHistory[this.stateHistory.length-1]===e||this.stateHistory.push(e)}},{key:"restoreEntry",value:function(e,t){var n=JSON.parse(t);e.splice(0,e.length),n.forEach((function(t){e.push(t)})),this.skipRecording()}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(e){var t=this.generateCurrentEntry(e),n=this.redoStack.pop();void 0!==n&&(this.restoreEntry(e,n),this.stateHistory.push(t))}},{key:"undoOnce",value:function(e){var t=this.generateCurrentEntry(e),n=this.stateHistory.pop();t===n&&(n=this.stateHistory.pop()),void 0!==n&&(this.restoreEntry(e,n),this.redoStack.push(t))}},{key:"isRecording",value:function(){return this.recording}},{key:"skipRecording",value:function(){this.recording=!1}},{key:"resumeRecording",value:function(){this.recording=!0}}]),e}();function pe(e){var t=e.children,n=e.left,o=e.onCloseRequest,a=e.top;return u.a.createElement("div",{className:"popover",style:{top:a,left:n}},u.a.createElement("div",{className:"cover",onClick:o,onContextMenu:function(e){e.preventDefault(),o&&o()}}),t)}var me;n(18);function ye(e){var t=e.options,n=e.onCloseRequest,o=e.top,a=e.left;return u.a.createElement(pe,{onCloseRequest:n,top:o,left:a},u.a.createElement("ul",{className:"context-menu",onContextMenu:function(e){return e.preventDefault()}},t.map((function(e,t){return u.a.createElement("li",{key:t,className:"context-menu__option",onClick:n},u.a.createElement(ge,e))}))))}function ge(e){var t=e.label,n=e.action;return u.a.createElement("button",{className:"context-menu-option",onClick:n},t)}function we(){if(me)return me;var e=document.createElement("div");return document.body.appendChild(e),me=e}function Ee(){Object(h.unmountComponentAtNode)(we())}var xe=function(e){var t=Array.of();e.options.forEach((function(e){e&&t.push(e)})),t.length&&Object(h.render)(u.a.createElement(ye,{top:e.top,left:e.left,options:t,onCloseRequest:Ee}),we())},ke=function(e){var t=e.title,n=e.children,o=e.defaultCollapsed,a=void 0!==o&&o,r=e.hide,l=void 0!==r&&r,i=Object(s.useState)(a),c=Object(M.a)(i,2),h=c[0],d=c[1];return l?null:u.a.createElement("div",{className:"panel"},u.a.createElement("h4",null,t),u.a.createElement("button",{className:"btn-panel-collapse",type:"button",onClick:function(e){e.preventDefault(),d((function(e){return!e}))}},u.a.createElement("span",{className:"btn-panel-collapse-icon ".concat(h?"btn-panel-collapse-icon-closed":"")},"\u25bc")),!h&&u.a.createElement("div",{className:"panelColumn"},n))},Ce=function(e){var t=e.activeTool,n=e.onToolChange;return u.a.createElement(ke,{title:"Shapes"},u.a.createElement("div",{className:"panelTools"},he.map((function(e){var o=e.value,a=e.icon;return u.a.createElement("label",{key:o,className:"tool",title:"".concat(ie(o)," - ").concat(ie(o)[0])},u.a.createElement("input",{type:"radio",checked:t===o,onChange:function(){n(o)}}),u.a.createElement("div",{className:"toolIcon"},a))}))))},be=function(e){var t=e.onBringForward,n=e.onBringToFront,o=e.onSendBackward,a=e.onSendToBack;return u.a.createElement("div",null,u.a.createElement("div",{className:"buttonList"},u.a.createElement("button",{type:"button",onClick:t},"Bring forward"),u.a.createElement("button",{type:"button",onClick:n},"Bring to front"),u.a.createElement("button",{type:"button",onClick:o},"Send backward"),u.a.createElement("button",{type:"button",onClick:a},"Send to back")))},Se=Object(s.lazy)((function(){return n.e(2).then(n.t.bind(null,228,7))}));function Me(e){var t=e.color,n=e.onChange,o=u.a.useState(!1),a=Object(M.a)(o,2),r=a[0],l=a[1];return u.a.createElement("div",null,u.a.createElement("button",{className:"swatch",style:t?{backgroundColor:t}:void 0,onClick:function(){return l(!r)}}),u.a.createElement(u.a.Suspense,{fallback:""},r?u.a.createElement(pe,{onCloseRequest:function(){return l(!1)}},u.a.createElement(Se,{colors:["#000000","#ABB8C3","#FFFFFF","#FF6900","#FCB900","#00D084","#8ED1FC","#0693E3","#EB144C","#F78DA7","#9900EF"],width:"205px",color:t||void 0,onChange:function(e){n(e.hex)}})):null),u.a.createElement("input",{type:"text",className:"swatch-input",value:t||"",onPaste:function(e){return n(e.clipboardData.getData("text"))},onChange:function(e){return n(e.target.value)}}))}var Oe=function(e){var t=e.title,n=e.onColorChange,o=e.colorValue;return u.a.createElement(u.a.Fragment,null,u.a.createElement("h5",null,t),u.a.createElement(Me,{color:o,onChange:function(e){return n(e)}}))},Be=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={value:e.value,edit:!1},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"handleEdit",value:function(e){this.setState({value:e.target.value})}},{key:"handleBlur",value:function(){var e=this.state.value;e?(this.props.onChange(e),this.setState({edit:!1})):this.setState({value:this.props.value,edit:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,o=t.edit;return u.a.createElement(s.Fragment,null,o?u.a.createElement("input",{className:"project-name-input",name:"name",maxLength:25,value:n,onChange:function(t){return e.handleEdit(t)},onBlur:function(){return e.handleBlur()},onKeyDown:function(t){"Enter"===t.key&&e.handleBlur()},autoFocus:!0}):u.a.createElement("span",{onClick:function(){return e.setState({edit:!0})},className:"project-name"},n))}}]),t}(s.Component),Te=function(e){var t=e.projectName,n=e.exportBackground,o=e.onProjectNameChange,a=e.onExportBackgroundChange,r=e.onSaveScene,l=e.onLoadScene,i=e.onExportAsPNG;return u.a.createElement(ke,{title:"Export"},u.a.createElement("div",{className:"panelColumn"},u.a.createElement("h5",null,"Name"),t&&u.a.createElement(Be,{value:t,onChange:function(e){return o(e)}}),u.a.createElement("h5",null,"Image"),u.a.createElement("button",{onClick:i},"Export to png"),u.a.createElement("label",null,u.a.createElement("input",{type:"checkbox",checked:n,onChange:function(e){a(e.target.checked)}}),"background"),u.a.createElement("h5",null,"Scene"),u.a.createElement("button",{onClick:r},"Save as..."),u.a.createElement("button",{onClick:l},"Load file...")))},je=function(e){var t=e.viewBackgroundColor,n=e.onViewBackgroundColorChange,o=e.onClearCanvas;return u.a.createElement(ke,{title:"Canvas"},u.a.createElement("h5",null,"Canvas Background Color"),u.a.createElement(Me,{color:t,onChange:function(e){return n(e)}}),u.a.createElement("button",{type:"button",onClick:o,title:"Clear the canvas & reset background color"},"Clear canvas"))};n(19);n.d(t,"viewportCoordsToSceneCoords",(function(){return Ke})),n.d(t,"App",(function(){return Ue}));var De={elements:Array.of()}.elements,Le={history:new ve}.history,Ne="excalidraw-".concat(function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),a=e.getHours(),r=e.getMinutes(),l=e.getSeconds();return"".concat(t).concat(n).concat(o).concat(a).concat(r).concat(l)}()),Ae="{}";function Re(){document.documentElement.style.cursor=""}function Ye(e,t,n){if(Re(),null===t||""===t)return!1;var o=se(t,n);return e.text=t,e.font=n,e.x-=o.width/2,e.y-=o.height/2,e.width=o.width,e.height=o.height,e.baseline=o.baseline,!0}var Xe=-1,Fe=-1,Pe=null;function Ke(e,t){var n=e.clientX,o=e.clientY;return{x:n-250-t.scrollX,y:o-0-t.scrollY}}var Ue=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).canvas=null,n.rc=null,n.state={draggingElement:null,resizingElement:null,elementType:"selection",exportBackground:!0,currentItemStrokeColor:"#000000",currentItemBackgroundColor:"#ffffff",currentItemFont:"20px Virgil",viewBackgroundColor:"#ffffff",scrollX:0,scrollY:0,name:Ne},n.onResize=function(){n.forceUpdate()},n.onKeyDown=function(e){if(!ce(e.target))if(e.key===H)_(De),n.forceUpdate(),e.preventDefault();else if(e.key===z||e.key===W)n.deleteSelectedElements(),e.preventDefault();else if(J(e.key)){var t=e.shiftKey?5:1;De.forEach((function(n){n.isSelected&&(e.key===X?n.x-=t:e.key===F?n.x+=t:e.key===K?n.y-=t:e.key===P&&(n.y+=t))})),n.forceUpdate(),e.preventDefault()}else e[I]&&e.shiftKey&&e.altKey&&"KeyB"===e.code?(n.moveOneLeft(),e.preventDefault()):e[I]&&e.shiftKey&&"KeyB"===e.code?(n.moveAllLeft(),e.preventDefault()):e[I]&&e.shiftKey&&e.altKey&&"KeyF"===e.code?(n.moveOneRight(),e.preventDefault()):e[I]&&e.shiftKey&&"KeyF"===e.code?(n.moveAllRight(),e.preventDefault()):e[I]&&"KeyA"===e.code?(De.forEach((function(e){e.isSelected=!0})),n.forceUpdate(),e.preventDefault()):de.includes(e.key.toLowerCase())?n.setState({elementType:fe(e.key)}):e[I]&&"KeyZ"===e.code?(e.shiftKey?Le.redoOnce(De):Le.undoOnce(De),n.forceUpdate(),e.preventDefault()):e.metaKey&&e.shiftKey&&"KeyC"===e.code?n.copyStyles():e.metaKey&&e.shiftKey&&"KeyV"===e.code&&(n.pasteStyles(),e.preventDefault())},n.deleteSelectedElements=function(){G(De),n.forceUpdate()},n.clearCanvas=function(){window.confirm("This will clear the whole canvas. Are you sure?")&&(De.splice(0,De.length),n.setState({viewBackgroundColor:"#ffffff",scrollX:0,scrollY:0}),n.forceUpdate())},n.copyStyles=function(){var e=De.find((function(e){return e.isSelected}));e&&(Ae=JSON.stringify(e))},n.pasteStyles=function(){var e=JSON.parse(Ae);De.forEach((function(t){t.isSelected&&(t.backgroundColor=null===e||void 0===e?void 0:e.backgroundColor,t.strokeWidth=null===e||void 0===e?void 0:e.strokeWidth,t.strokeColor=null===e||void 0===e?void 0:e.strokeColor,t.fillStyle=null===e||void 0===e?void 0:e.fillStyle,t.opacity=null===e||void 0===e?void 0:e.opacity,t.roughness=null===e||void 0===e?void 0:e.roughness,Y(t)&&(t.font=null===e||void 0===e?void 0:e.font,n.redrawTextBoundingBox(t)))})),n.forceUpdate()},n.moveAllLeft=function(){y(De,Z(De)),n.forceUpdate()},n.moveOneLeft=function(){p(De,Z(De)),n.forceUpdate()},n.moveAllRight=function(){g(De,Z(De)),n.forceUpdate()},n.moveOneRight=function(){m(De,Z(De)),n.forceUpdate()},n.removeWheelEventListener=void 0,n.changeProperty=function(e){De.forEach((function(t){t.isSelected&&e(t)})),n.forceUpdate()},n.changeOpacity=function(e){n.changeProperty((function(t){return t.opacity=+e.target.value}))},n.changeStrokeColor=function(e){n.changeProperty((function(t){return t.strokeColor=e})),n.setState({currentItemStrokeColor:e})},n.changeBackgroundColor=function(e){n.changeProperty((function(t){return t.backgroundColor=e})),n.setState({currentItemBackgroundColor:e})},n.copyToClipboard=function(){if(navigator.clipboard){var e=JSON.stringify(De.filter((function(e){return e.isSelected})));navigator.clipboard.writeText(e)}},n.pasteFromClipboard=function(e,t){navigator.clipboard&&navigator.clipboard.readText().then((function(o){return n.addElementsFromPaste(o,e,t)}))},n.redrawTextBoundingBox=function(e){var t=se(e.text,e.font);e.width=t.width,e.height=t.height,e.baseline=t.baseline,n.forceUpdate()},n.handleWheel=function(e){e.preventDefault();var t=e.deltaX,o=e.deltaY;n.setState((function(e){return{scrollX:e.scrollX-t,scrollY:e.scrollY-o}}))},n.addElementsFromPaste=function(e,t,a){var r;try{r=JSON.parse(e)}catch(u){}if(Array.isArray(r)&&r.length>0&&r[0].type){_(De),null==t&&(t=10-n.state.scrollX),null==a&&(a=10-n.state.scrollY);var l=Math.min.apply(Math,Object(o.a)(r.map((function(e){return e.x})))),i=Math.min.apply(Math,Object(o.a)(r.map((function(e){return e.y})))),c=t-l,s=a-i;r.forEach((function(e){var t=S(e);t.x+=c,t.y+=s,De.push(t)})),n.forceUpdate()}},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("resize",this.onResize,!1);var e=re(De,localStorage.getItem("excalidraw"),localStorage.getItem("excalidraw-state"));e&&this.setState(e)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1),window.removeEventListener("resize",this.onResize,!1)}},{key:"updateProjectName",value:function(e){this.setState({name:e})}},{key:"render",value:function(){var e=this,t=window.innerWidth-250,n=window.innerHeight-0;return u.a.createElement("div",{className:"container",onCut:function(t){t.clipboardData.setData("text/plain",JSON.stringify(De.filter((function(e){return e.isSelected})))),G(De),e.forceUpdate(),t.preventDefault()},onCopy:function(e){e.clipboardData.setData("text/plain",JSON.stringify(De.filter((function(e){return e.isSelected})))),e.preventDefault()},onPaste:function(t){var n=t.clipboardData.getData("text");e.addElementsFromPaste(n),t.preventDefault()}},u.a.createElement("div",{className:"sidePanel"},u.a.createElement(Ce,{activeTool:this.state.elementType,onToolChange:function(t){e.setState({elementType:t}),_(De),document.documentElement.style.cursor="text"===t?"text":"crosshair",e.forceUpdate()}}),u.a.createElement(ke,{title:"Selection",hide:!Q(De)},u.a.createElement(be,{onBringForward:this.moveOneRight,onBringToFront:this.moveAllRight,onSendBackward:this.moveOneLeft,onSendToBack:this.moveAllLeft}),u.a.createElement(Oe,{title:"Stroke Color",onColorChange:this.changeStrokeColor,colorValue:$(De,(function(e){return e.strokeColor}))}),De.some((function(e){return e.isSelected&&("rectangle"===e.type||"ellipse"===e.type||"diamond"===e.type)}))&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Oe,{title:"Background Color",onColorChange:this.changeBackgroundColor,colorValue:$(De,(function(e){return e.backgroundColor}))}),u.a.createElement("h5",null,"Fill"),u.a.createElement(ue,{options:[{value:"solid",text:"Solid"},{value:"hachure",text:"Hachure"},{value:"cross-hatch",text:"Cross-hatch"}],value:$(De,(function(e){return e.fillStyle})),onChange:function(t){e.changeProperty((function(e){e.fillStyle=t}))}})),function(e){return e.some((function(e){return e.isSelected&&("rectangle"===e.type||"ellipse"===e.type||"diamond"===e.type||"arrow"===e.type)}))}(De)&&u.a.createElement(u.a.Fragment,null,u.a.createElement("h5",null,"Stroke Width"),u.a.createElement(ue,{options:[{value:1,text:"Thin"},{value:2,text:"Bold"},{value:4,text:"Extra Bold"}],value:$(De,(function(e){return e.strokeWidth})),onChange:function(t){e.changeProperty((function(e){e.strokeWidth=t}))}}),u.a.createElement("h5",null,"Sloppiness"),u.a.createElement(ue,{options:[{value:0,text:"Draftsman"},{value:1,text:"Artist"},{value:3,text:"Cartoonist"}],value:$(De,(function(e){return e.roughness})),onChange:function(t){return e.changeProperty((function(e){e.roughness=t}))}})),function(e){return e.some((function(e){return e.isSelected&&"text"===e.type}))}(De)&&u.a.createElement(u.a.Fragment,null,u.a.createElement("h5",null,"Font size"),u.a.createElement(ue,{options:[{value:16,text:"Small"},{value:20,text:"Medium"},{value:28,text:"Large"},{value:36,text:"Very Large"}],value:$(De,(function(e){return Y(e)&&+e.font.split("px ")[0]})),onChange:function(t){return e.changeProperty((function(n){Y(n)&&(n.font="".concat(t,"px ").concat(n.font.split("px ")[1]),e.redrawTextBoundingBox(n))}))}}),u.a.createElement("h5",null,"Font familly"),u.a.createElement(ue,{options:[{value:"Virgil",text:"Virgil"},{value:"Helvetica",text:"Helvetica"},{value:"Courier",text:"Courier"}],value:$(De,(function(e){return Y(e)&&e.font.split("px ")[1]})),onChange:function(t){return e.changeProperty((function(n){Y(n)&&(n.font="".concat(n.font.split("px ")[0],"px ").concat(t),e.redrawTextBoundingBox(n))}))}})),u.a.createElement("h5",null,"Opacity"),u.a.createElement("input",{type:"range",min:"0",max:"100",onChange:this.changeOpacity,value:$(De,(function(e){return e.opacity}))||0}),u.a.createElement("button",{onClick:this.deleteSelectedElements},"Delete selected")),u.a.createElement(je,{onClearCanvas:this.clearCanvas,onViewBackgroundColorChange:function(t){return e.setState({viewBackgroundColor:t})},viewBackgroundColor:this.state.viewBackgroundColor}),u.a.createElement(Te,{projectName:this.state.name,onProjectNameChange:this.updateProjectName,onExportAsPNG:function(){return function(e,t,n){var o=n.exportBackground,a=n.exportPadding,r=void 0===a?10:a,l=n.viewBackgroundColor,i=n.name;if(!e.length)return window.alert("Cannot export empty canvas.");var c=1/0,s=0,u=1/0,h=0;function d(e,t){return Math.abs(e>t?e-t:t-e)}e.forEach((function(e){var t=T(e),n=Object(M.a)(t,4),o=n[0],a=n[1],r=n[2],l=n[3];c=Math.min(c,o),u=Math.min(u,a),s=Math.max(s,r),h=Math.max(h,l)}));var v=document.createElement("canvas");v.style.display="none",document.body.appendChild(v),v.width=d(c,s)+2*r,v.height=d(u,h)+2*r,oe(e,f.a.canvas(v),v,{viewBackgroundColor:o?l:null,scrollX:0,scrollY:0},{offsetX:-c+r,offsetY:-u+r,renderScrollbars:!1,renderSelection:!1}),ae("".concat(i,".png"),v.toDataURL("image/png")),v!==t&&v.remove()}(De,e.canvas,e.state)},exportBackground:this.state.exportBackground,onExportBackgroundChange:function(t){return e.setState({exportBackground:t})},onSaveScene:function(){return function(e,t){var n=JSON.stringify({version:1,source:window.location.origin,elements:e});ae("".concat(t,".json"),"data:text/plain;charset=utf-8,"+encodeURIComponent(n))}(De,e.state.name)},onLoadScene:function(){return function(e){var t=document.createElement("input"),n=new FileReader;return t.type="file",t.accept=".json",t.onchange=function(){t.files.length?n.readAsText(t.files[0],"utf8"):alert("A file was not selected.")},t.click(),new Promise((function(t){n.onloadend=function(){if(n.readyState===FileReader.DONE){var o=JSON.parse(n.result);re(e,o.elements,null),t()}}}))}(De).then((function(){return e.forceUpdate()}))}})),u.a.createElement("canvas",{id:"canvas",style:{width:t,height:n},width:t*window.devicePixelRatio,height:n*window.devicePixelRatio,ref:function(o){null===e.canvas&&(e.canvas=o,e.rc=f.a.canvas(e.canvas)),e.removeWheelEventListener&&(e.removeWheelEventListener(),e.removeWheelEventListener=void 0),o&&(o.addEventListener("wheel",e.handleWheel,{passive:!1}),e.removeWheelEventListener=function(){return o.removeEventListener("wheel",e.handleWheel)},t===Xe&&n===Fe||(Xe=t,Fe=n,o.getContext("2d").scale(window.devicePixelRatio,window.devicePixelRatio)))},onContextMenu:function(t){t.preventDefault();var n=Ke(t,e.state),o=n.x,a=n.y,r=le(De,o,a);r?(r.isSelected||(_(De),r.isSelected=!0,e.forceUpdate()),xe({options:[navigator.clipboard&&{label:"Copy",action:e.copyToClipboard},navigator.clipboard&&{label:"Paste",action:function(){return e.pasteFromClipboard(o,a)}},{label:"Copy Styles",action:e.copyStyles},{label:"Paste Styles",action:e.pasteStyles},{label:"Delete",action:e.deleteSelectedElements},{label:"Move Forward",action:e.moveOneRight},{label:"Send to Front",action:e.moveAllRight},{label:"Move Backwards",action:e.moveOneLeft},{label:"Send to Back",action:e.moveAllLeft}],top:t.clientY,left:t.clientX})):xe({options:[navigator.clipboard&&{label:"Paste",action:function(){return e.pasteFromClipboard(o,a)}}],top:t.clientY,left:t.clientX})},onMouseDown:function(a){if(null!==Pe&&Pe(a),0===a.button){a.preventDefault(),ce(document.activeElement)&&document.activeElement.blur();var r=function(e,t,n,o,a,r,l){var i=q(e,o,a,r,l),c=[i.horizontal,i.vertical].map((function(e){return e&&e.x<=t&&t<=e.x+e.width&&e.y<=n&&n<=e.y+e.height})),s=Object(M.a)(c,2);return{isOverHorizontalScrollBar:s[0],isOverVerticalScrollBar:s[1]}}(De,a.clientX-250,a.clientY-0,t,n,e.state.scrollX,e.state.scrollY),l=r.isOverHorizontalScrollBar,i=r.isOverVerticalScrollBar,c=Ke(a,e.state),s=c.x,u=c.y,h=b(e.state.elementType,s,u,e.state.currentItemStrokeColor,e.state.currentItemBackgroundColor,"hachure",1,1,100),d=!1,f=!1,v=!1;if("selection"===e.state.elementType){var p=R(De,{x:s,y:u},e.state);if(e.setState({resizingElement:p?p.element:null}),p)d=p.resizeHandle,document.documentElement.style.cursor="".concat(d,"-resize"),v=!0;else{var m=le(De,s,u);m?(m.isSelected||a.shiftKey||_(De),m.isSelected=!0,a.altKey&&De.push.apply(De,Object(o.a)(De.reduce((function(e,t){return t.isSelected&&(e.push(S(t)),t.isSelected=!1),e}),[])))):_(De),(f=Q(De))&&(document.documentElement.style.cursor="move")}}if(Y(h)){var y=a.clientX,g=a.clientY;if(!a.altKey){var w=e.getTextWysiwygSnappedToCenterPosition(s,u);w&&(h.x=w.elementCenterX,h.y=w.elementCenterY,y=w.wysiwygX,g=w.wysiwygY)}V({initText:"",x:y,y:g,strokeColor:e.state.currentItemStrokeColor,font:e.state.currentItemFont,onSubmit:function(t){Ye(h,t,e.state.currentItemFont),De.push(h),h.isSelected=!0,e.setState({draggingElement:null,elementType:"selection"})}})}else{De.push(h),"text"===e.state.elementType?(e.setState({draggingElement:null,elementType:"selection"}),h.isSelected=!0):e.setState({draggingElement:h});var E=s,x=u;(l||i)&&(E=a.clientX-250,x=a.clientY-0);var k=function(t){if(t.target instanceof HTMLElement){if(l){var n=t.clientX-250,o=n-E;return e.setState((function(e){return{scrollX:e.scrollX-o}})),void(E=n)}if(i){var a=t.clientY-0,r=a-x;return e.setState((function(e){return{scrollY:e.scrollY-r}})),void(x=a)}if(v&&e.state.resizingElement){var c=e.state.resizingElement,s=De.filter((function(e){return e.isSelected}));if(1===s.length){var u=Ke(t,e.state),h=u.x,p=u.y;return s.forEach((function(e){switch(d){case"nw":e.width+=e.x-E,e.x=E,t.shiftKey?(e.y+=e.height-e.width,e.height=e.width):(e.height+=e.y-x,e.y=x);break;case"ne":e.width=E-e.x,t.shiftKey?(e.y+=e.height-e.width,e.height=e.width):(e.height+=e.y-x,e.y=x);break;case"sw":e.width+=e.x-E,e.x=E,t.shiftKey?e.height=e.width:e.height=x-e.y;break;case"se":e.width+=h-E,t.shiftKey?e.height=e.width:e.height+=p-x;break;case"n":e.height+=e.y-x,e.y=x;break;case"w":e.width+=e.x-E,e.x=E;break;case"s":e.height=x-e.y;break;case"e":e.width=E-e.x}c.x=e.x,c.y=e.y})),E=h,x=p,Le.skipRecording(),void e.forceUpdate()}}if(f){var m=De.filter((function(e){return e.isSelected}));if(m.length){var y=Ke(t,e.state),g=y.x,w=y.y;return m.forEach((function(e){e.x+=g-E,e.y+=w-x})),E=g,x=w,Le.skipRecording(),void e.forceUpdate()}}var k=e.state.draggingElement;if(k){var C=t.clientX-250-k.x-e.state.scrollX,b=t.clientY-0-k.y-e.state.scrollY;k.width=C,k.height=t.shiftKey?Math.abs(C)*Math.sign(b):b,"selection"===e.state.elementType&&function(e,t){var n=T(t),o=Object(M.a)(n,4),a=o[0],r=o[1],l=o[2],i=o[3];e.forEach((function(e){var t=T(e),n=Object(M.a)(t,4),o=n[0],c=n[1],s=n[2],u=n[3];e.isSelected="selection"!==e.type&&a<=o&&r<=c&&l>=s&&i>=u}))}(De,k),Le.skipRecording(),e.forceUpdate()}}},C=function t(n){var o=e.state,a=o.draggingElement,r=o.elementType;if(Pe=null,window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",t),Re(),null===a)return _(De),void e.forceUpdate();"selection"===r?(f&&(f=!1),De.pop()):a.isSelected=!0,e.setState({draggingElement:null,elementType:"selection"}),e.forceUpdate()};Pe=C,window.addEventListener("mousemove",k),window.addEventListener("mouseup",C),Le.skipRecording(),e.forceUpdate()}}},onDoubleClick:function(t){var n=Ke(t,e.state),o=n.x,a=n.y,r=le(De,o,a),l=b("text",o,a,e.state.currentItemStrokeColor,e.state.currentItemBackgroundColor,"hachure",1,1,100),i="",c=t.clientX,s=t.clientY;if(r&&Y(r))De.splice(De.indexOf(r),1),e.forceUpdate(),Object.assign(l,r),l.x=r.x+r.width/2,l.y=r.y+r.height/2,i=r.text,c=e.state.scrollX+r.x+250+r.width/2,s=e.state.scrollY+r.y+0+r.height/2;else if(!t.altKey){var u=e.getTextWysiwygSnappedToCenterPosition(o,a);u&&(l.x=u.elementCenterX,l.y=u.elementCenterY,c=u.wysiwygX,s=u.wysiwygY)}V({initText:i,x:c,y:s,strokeColor:l.strokeColor,font:l.font||e.state.currentItemFont,onSubmit:function(t){Ye(l,t,l.font||e.state.currentItemFont),De.push(l),l.isSelected=!0,e.setState({draggingElement:null,elementType:"selection"})}})},onMouseMove:function(t){if(!Boolean(t.buttons)&&"selection"===e.state.elementType){var n=Ke(t,e.state),o=n.x,a=n.y,r=R(De,{x:o,y:a},e.state);if(r&&r.resizeHandle)document.documentElement.style.cursor="".concat(r.resizeHandle,"-resize");else{var l=le(De,o,a);if(l){var i=A(l,o,a,{scrollX:e.state.scrollX,scrollY:e.state.scrollY});document.documentElement.style.cursor=i?"".concat(i,"-resize"):"move"}else document.documentElement.style.cursor=""}}}}))}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(e,t){var n=function(e,t,n){for(var o=null,a=e.length-1;a>=0;--a){var r=T(e[a]),l=Object(M.a)(r,4),i=l[0],c=l[1],s=l[2],u=l[3];if(i<t&&t<s&&c<n&&n<u){o=e[a];break}}return o}(De,e,t);if(n){var o=n.x+n.width/2,a=n.y+n.height/2;if(Math.hypot(e-o,t-a)<30)return{wysiwygX:this.state.scrollX+n.x+250+n.width/2,wysiwygY:this.state.scrollY+n.y+0+n.height/2,elementCenterX:o,elementCenterY:a}}}},{key:"componentDidUpdate",value:function(){var e,t;oe(De,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor}),e=De,t=this.state,localStorage.setItem("excalidraw",JSON.stringify(e)),localStorage.setItem("excalidraw-state",JSON.stringify(t)),Le.isRecording()&&(Le.pushEntry(Le.generateCurrentEntry(De)),Le.clearRedoStack()),Le.resumeRecording()}}]),t}(u.a.Component),He=document.getElementById("root");d.a.render(u.a.createElement(Ue,null),He)}},[[13,1,3]],[2]]);
//# sourceMappingURL=main.ccee5000.chunk.js.map